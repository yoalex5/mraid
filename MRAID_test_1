<script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app56.us.archive.org';v.server_ms=155;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/static/js/ait-client-rewrite.js?v=1544499711.0" charset="utf-8"></script>
<script type="text/javascript">
    WB_wombat_Init('http://web.archive.org/web', '20170824100327', 'admarvel.s3.amazonaws.com:80');
</script>
<script type="text/javascript" src="/static/js/wbhack.js?v=1544499711.0" charset="utf-8"></script>
<script type="text/javascript">
    __wbhack.init('http://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="/static/css/banner-styles.css?v=1544499711.0" />
<link rel="stylesheet" type="text/css" href="/static/css/iconochive.css?v=1544499711.0" />
<!-- End Wayback Rewrite JS Include -->
<script src="/web/20170824100327js_/http://admarvel.s3.amazonaws.com:80/demo/mraid/mraid.js"></script>

<style type="text/css">
    body
    {
        background-color:#ADACAC;
    }

    table
    {
        font-size:6px;
        width:100%;
        border:1px solid black;
    }

    th
    {
        border:1px solid black;
        text-align:center;
        vertical-align:middle;
    }

    td
    {
        border:1px solid black;
        text-align:center;
        vertical-align:middle;
    }

    button
    {
        font-size:6px;
    }

    textarea
    {
        font-size:6px;
    }

    input
    {
        font-size:6px;
    }

    select
    {
        font-size:6px;
    }
</style>

<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/timestamp.js?v=1544499711.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/graph-calc.js?v=1544499711.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/auto-complete.js?v=1544499711.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/toolbar.js?v=1544499711.0" charset="utf-8"></script>
<style type="text/css">
    body {
        margin-top:0 !important;
        padding-top:0 !important;
        /*min-width:800px !important;*/
    }
    .wb-autocomplete-suggestions {
        text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
        position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
    }
    .wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
    .wb-autocomplete-suggestion b { font-weight: bold; }
    .wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp" lang="en" style="display:none;direction:ltr;">
    <div style="position:fixed;left:0;top:0;right:0;">
        <div id="wm-ipp-inside">
            <div style="position:relative;">
                <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
                    <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
                </div>
                <div class="r" style="float:right;">
                    <div id="wm-btns" style="text-align:right;height:25px;">
                        <div id="wm-save-snapshot-success">success</div>
                        <div id="wm-save-snapshot-fail">fail</div>
                        <a href="#"
                           onclick="__wm.saveSnapshot('http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt', '20170824100327')"
                           title="Share via My Web Archive"
                           id="wm-save-snapshot-open"
                        >
                            <span class="iconochive-web"></span>
                        </a>
                        <a href="https://archive.org/account/login.php"
                           title="Sign In"
                           id="wm-sign-in"
                        >
                            <span class="iconochive-person"></span>
                        </a>
                        <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
                        <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
                        <a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
                    </div>
                    <div id="wm-share" style="text-align:right;">
                        <a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://web.archive.org/web/20170824100327/http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt', '', 'height=400,width=600'); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
                        <a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=http://web.archive.org/web/20170824100327/http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt&amp;via=internetarchive', '', 'height=400,width=600'); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
                    </div>
                </div>
                <table class="c" style="">
                    <tbody>
                    <tr>
                        <td class="u" colspan="2">
                            <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20170824100327" /><input type="submit" value="Go" /></form>
                        </td>
                        <td class="n" rowspan="2" style="width:110px;">
                            <table>
                                <tbody>
                                <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
                                <tr class="m">
                                    <td class="b" nowrap="nowrap">Jul</td>
                                    <td class="c" id="displayMonthEl" title="You are here: 10:03:27 Aug 24, 2017">AUG</td>
                                    <td class="f" nowrap="nowrap">Sep</td>
                                </tr>
                                <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
                                <tr class="d">
                                    <td class="b" nowrap="nowrap"><img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" /></td>
                                    <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 10:03:27 Aug 24, 2017">24</td>
                                    <td class="f" nowrap="nowrap"><img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
                                </tr>
                                <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
                                <tr class="y">
                                    <td class="b" nowrap="nowrap">2016</td>
                                    <td class="c" id="displayYearEl" title="You are here: 10:03:27 Aug 24, 2017">2017</td>
                                    <td class="f" nowrap="nowrap">2018</td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td class="s">
                            <div id="wm-nav-captures">
                                <a class="t" href="/web/20170824100327*/http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt" title="See a list of every capture for this URL">1 capture</a>
                                <div class="r" title="Timespan for captures of this URL">24 Aug 2017</div>
                            </div>
                        </td>
                        <td class="k">
                            <a href="" id="wm-graph-anchor">
                                <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
                                    <canvas id="wm-sparkline-canvas" width="575" height="27" border="0"></canvas>
                                </div>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div style="position:absolute;bottom:0;right:2px;text-align:right;">
                    <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
                </div>
            </div>
            <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
                <div style="padding:3px;position:relative" id="wm-collected-by-content">
                    <div style="display:inline-block;vertical-align:top;width:50%;">
                        <span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
                        Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
                        <div style="max-height:75px;overflow:hidden;position:relative;">
                            <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
                            Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
                        </div>
                    </div>
                    <div style="display:inline-block;vertical-align:top;width:49%;">
                        <span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
                        <div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
                        <div style="max-height:75px;overflow:hidden;position:relative;">
                            <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
                            Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
                        </div>
                    </div>
                </div>
                <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
                <div>
                    <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
                    <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/static/images/loading.gif" alt="loading" /></div>
                </div>
            </div></div></div></div><script type="text/javascript">
    __wm.bt(575,27,25,2,"web","http://admarvel.s3.amazonaws.com:80/demo/mraid/MRAID_v2_diagnostics.txt","2017-08-24",1996);
</script>
<!-- END WAYBACK TOOLBAR INSERT --><table>
    <tr>
        <th>State</th>
        <th>Orientation</th>
        <th>Viewable</th>
        <th>Version</th>
        <th>PlacementType</th>
    </tr>
    <tr>
        <td id="State"></td>
        <td id="Orientation"></td>
        <td id="Viewable"></td>
        <td id="Version"></td>
        <td id="PlacementType"></td>
    </tr>
</table>

<table>
    <tr>
        <th>DefaultPos</th>
        <th>CurrentPos</th>
        <th>MaxSize</th>
        <th>ScreenSize</th>
    </tr>
    <tr>
        <td id="DefaultPos"></td>
        <td id="CurrentPos"></td>
        <td id="MaxSize"></td>
        <td id="ScreenSize"></td>
    </tr>
</table>

<table>
    <tr>
        <td>Supports</td>
        <td id="Supports"></td>
    </tr>
    <tr>
        <td>ExpandProperties</td>
        <td id="ExpandProperties"></td>
    </tr>
    <tr>
        <td>ResizeProperties</td>
        <td id="ResizeProperties"></td>
    </tr>
    <tr>
        <td>OrientationProperties</td>
        <td id="OrientationProperties"></td>
    </tr>
</table>

<table>
    <tr>
        <td>
            <button onclick="expand()">Expand</button>
            <input type="checkbox" id="ExpandUseCustomClose">useCustomClose</input>
        </td>
        <td>
            <button onclick="collapse()">Close</button>
        </td>
    </tr>
    <tr>
        <td>
            <button onclick="expandTwoPart()">Two Part Expand</button>
            <input type="checkbox" id="TwoPartExpandUseCustomClose">useCustomClose</input>
        </td>
        <td>
            <textarea id="TwoPartExpandURL" rows="1" cols="50">http://admarvel.s3.amazonaws.com/demo/mraid/MRAID_v2_twopart.html</textarea>
        </td>
    </tr>
</table>

<table>
    <tr>
        <td>
            <button onclick="resize()">Resize</button>
        </td>
        <td>
            Width: <textarea id="ResizeWidth" rows="1" cols="4">320</textarea>
        </td>
        <td>
            Height: <textarea id="ResizeHeight" rows="1" cols="4">460</textarea>
        </td>
        <td>
            OffsetX: <textarea id="ResizeOffsetX" rows="1" cols="4">0</textarea>
        </td>
        <td>
            OffsetY: <textarea id="ResizeOffsetY" rows="1" cols="4">0</textarea>
        </td>
    </tr>
    <tr>
        <td colspan="3">
            customClosePosition:
            <select id="customClosePosition">
                <option value="">--Select--</option>
                <option value="top-left">top-left</option>
                <option value="top-right">top-right</option>
                <option value="center">center</option>
                <option value="bottom-left">bottom-left</option>
                <option value="bottom-right">bottom-right</option>
                <option value="top-center">top-center</option>
                <option value="bottom-center">bottom-center</option>
            </select>
        </td>
        <td colspan="2">
            <input type="checkbox" id="ResizeAllowOffscreen" checked>allowOffscreen</input>
        </td>
    </tr>
</table>

<table>
    <tr>
        <td>
            <button onclick="setOrientationProperties()">Set Orientation Properties</button>
        </td>
        <td>
            forceOrientation:
            <select id="ForceOrientation">
                <option value="none">none</option>
                <option value="portrait">portrait</option>
                <option value="landscape">landscape</option>
            </select>
        </td>
        <td>
            <input type="checkbox" id="AllowOrientationChange" checked>allowOrientationChange</input>
        </td>
    </tr>
</table>

<table>
    <tr>
        <td>
            <button onclick="openSite()">Open</button>
        </td>
        <td>
            <textarea id="OpenURL" rows="1" cols="50">http://operamediaworks.com/</textarea>
        </td>
    </tr>
    <tr>
        <td>
            <button onclick="playVideo()">Play Video</button>
        </td>
        <td>
            <textarea id="PlayVideoURL" rows="1" cols="50">http://admarvel.s3.amazonaws.com/demo/mraid/OMW_SOUND_VIDEO_RENEW.iPhoneSmall.mp4</textarea>
        </td>
    </tr>
    <tr>
        <td>
            <button onclick="storePicture()">Store Picture</button>
        </td>
        <td>
            <textarea id="StorePictureURL" rows="1" cols="50">http://admarvel.s3.amazonaws.com/demo/mraid/320x50.png</textarea>
        </td>
    </tr>
    <tr>
        <td>
            <button onclick="createCalendarEvent()">Create Calendar Event</button>
        </td>
        <td>
            <input type="checkbox" id="UseCustomClose" onchange="updateUseCustomClose(this.checked)">useCustomClose</input>
        </td>
    </tr>
</table>

<table>
    <tr>
        <th>Error</th>
    </tr>
    <tr>
        <td id="Error"></td>
    </tr>
</table>

<script language="javascript" type="text/javascript">
    function printObject(o)
    {
        var out = '{';
        for (var p in o)
        {
            if (out != '{') out += ',';
            out += p + ':' + o[p];
        }
        out += '}';
        return out;
    }

    function updateElementInnerHTML(id, newValue)
    {
        logMRAIDMessage("updateElementInnerHTML for id = " + id + ", newValue = " + newValue + ", oldValue = " + document.getElementById(id).innerHTML);

        if (newValue !== document.getElementById(id).innerHTML)
        {
            document.getElementById(id).innerHTML = newValue;

            setUpdated(id);
        }
    }

    function updateStateDiagnostic(state)
    {
        updateElementInnerHTML("State", state);
    }

    function updateOrientationDiagnostic()
    {
        updateElementInnerHTML("Orientation", window.orientation);
    }

    function updateViewableDiagnostic()
    {
        updateElementInnerHTML("Viewable", mraid.isViewable());
    }

    function updateVersionDiagnostic()
    {
        updateElementInnerHTML("Version", mraid.getVersion());
    }

    function updatePlacementTypeDiagnostic()
    {
        updateElementInnerHTML("PlacementType", mraid.getPlacementType());
    }

    function updateErrorDiagnostic(message, action)
    {
        var displayString = "Action: " + action + " caused error: " + message;

        updateElementInnerHTML("Error", displayString);
    }

    function updateDefaultPositionDiagnostic()
    {
        var frame = mraid.getDefaultPosition();
        var displayString = frame.x + "," + frame.y + "," + frame.width + "," + frame.height;

        updateElementInnerHTML("DefaultPos", displayString);
    }

    function updateCurrentPositionDiagnostic()
    {
        var frame = mraid.getCurrentPosition();
        var displayString = frame.x + "," + frame.y + "," + frame.width + "," + frame.height;

        updateElementInnerHTML("CurrentPos", displayString);
    }

    function updateMaxSizeDiagnostic()
    {
        var size = mraid.getMaxSize();
        var displayString = size.width + "x" + size.height;

        updateElementInnerHTML("MaxSize", displayString);
    }

    function updateScreenSizeDiagnostic()
    {
        var size = mraid.getScreenSize();
        var displayString = size.width + "x" + size.height;

        updateElementInnerHTML("ScreenSize", displayString);
    }

    function updateExpandPropertiesDiagnostic()
    {
        var props = mraid.getExpandProperties();
        var displayString = printObject(props);

        updateElementInnerHTML("ExpandProperties", displayString);
    }

    function updateResizePropertiesDiagnostic()
    {
        var props = mraid.getResizeProperties();
        var displayString = printObject(props);

        updateElementInnerHTML("ResizeProperties", displayString);
    }

    function updateOrientationPropertiesDiagnostic()
    {
        var props = mraid.getOrientationProperties();
        var displayString = printObject(props);

        updateElementInnerHTML("OrientationProperties", displayString);
    }

    function updateSupportsDiagnostic()
    {
        var supportsObject = {sms:false,tel:false,calendar:false,storePicture:false,inlineVideo:false};
        if (mraid.supports("sms"))
        {
            supportsObject["sms"] = true;
        }
        if (mraid.supports("tel"))
        {
            supportsObject["tel"] = true;
        }
        if (mraid.supports("calendar"))
        {
            supportsObject["calendar"] = true;
        }
        if (mraid.supports("storePicture"))
        {
            supportsObject["storePicture"] = true;
        }
        if (mraid.supports("inlineVideo"))
        {
            supportsObject["inlineVideo"] = true;
        }

        var displayString = printObject(supportsObject);

        updateElementInnerHTML("Supports", displayString);
    }

    function updateAllDiagnostics()
    {
        updateStateDiagnostic(mraid.getState());
        updateOrientationDiagnostic();
        updateViewableDiagnostic();
        updateVersionDiagnostic();
        updatePlacementTypeDiagnostic();

        updateSupportsDiagnostic();
        updateExpandPropertiesDiagnostic();
        updateResizePropertiesDiagnostic();
        updateOrientationPropertiesDiagnostic();

        updateDefaultPositionDiagnostic();
        updateCurrentPositionDiagnostic();
        updateMaxSizeDiagnostic();
        updateScreenSizeDiagnostic();
    }

    function setUpdated(id)
    {
        var element = document.getElementById(id);
        element.style.backgroundColor = "#008A32";

        setTimeout("clearUpdated('" + id + "')", 1000);
    }

    function clearUpdated(id)
    {
        var element = document.getElementById(id);
        element.style.backgroundColor = "rgb(255,255,255)";

    }
</script>

<script language="javascript" type="text/javascript">
    function expand()
    {
        var useCustomClose = document.getElementById("ExpandUseCustomClose").checked;
        if (useCustomClose)
        {
            mraid.setExpandProperties({"useCustomClose":true});

            logMRAIDMessage("expand with useCustomClose = true");
        }
        else
        {
            mraid.setExpandProperties({"useCustomClose":false});

            logMRAIDMessage("expand with useCustomClose = false");
        }

        updateExpandPropertiesDiagnostic();

        mraid.expand();
    }

    function expandTwoPart()
    {
        var useCustomClose = document.getElementById("TwoPartExpandUseCustomClose").checked;
        if (useCustomClose)
        {
            mraid.setExpandProperties({"useCustomClose":true});

            logMRAIDMessage("expandTwoPart with useCustomClose = true");
        }
        else
        {
            mraid.setExpandProperties({"useCustomClose":false});

            logMRAIDMessage("expandTwoPart with useCustomClose = false");
        }

        updateExpandPropertiesDiagnostic();

        var url = document.getElementById("TwoPartExpandURL").value;

        logMRAIDMessage("doing two part expand to url: " + url);

        mraid.expand(url);
    }

    function resize()
    {
        var width = document.getElementById("ResizeWidth").value;
        var height = document.getElementById("ResizeHeight").value;
        var offsetX = document.getElementById("ResizeOffsetX").value;
        var offsetY = document.getElementById("ResizeOffsetY").value;

        var resizePropertiesObj = {"width":width,"height":height,"offsetX":offsetX,"offsetY":offsetY};

        var customClosePosition = document.getElementById("customClosePosition").value;
        if (customClosePosition != "")
        {
            resizePropertiesObj["customClosePosition"] = customClosePosition;
        }
        var allowOffscreen = document.getElementById("ResizeAllowOffscreen").checked;
        if (!allowOffscreen)
        {
            resizePropertiesObj["allowOffscreen"] = false;
        }
        else
        {
            resizePropertiesObj["allowOffscreen"] = true;
        }

        logMRAIDMessage("Calling resize with properties: " + printObject(resizePropertiesObj));

        mraid.setResizeProperties(resizePropertiesObj);

        updateResizePropertiesDiagnostic();

        mraid.resize();
    }

    function collapse()
    {
        mraid.close();
    }

    function setOrientationProperties()
    {
        var allowOrientationChange = document.getElementById("AllowOrientationChange").checked;
        var forceOrientation = document.getElementById("ForceOrientation").value;

        var orientationPropertiesObj = {"allowOrientationChange":allowOrientationChange,"forceOrientation":forceOrientation};

        logMRAIDMessage("Setting orientation properties: " + printObject(orientationPropertiesObj));

        mraid.setOrientationProperties(orientationPropertiesObj);

        updateOrientationPropertiesDiagnostic();
    }

    function openSite()
    {
        var url = document.getElementById("OpenURL").value;

        mraid.open(url);
    }

    function playVideo()
    {
        var url = document.getElementById("PlayVideoURL").value;

        mraid.playVideo(url);
    }

    function storePicture()
    {
        var url = document.getElementById("StorePictureURL").value;

        mraid.storePicture(url);
    }

    function createCalendarEvent()
    {
        var calendarObject = {description:"Mayan Apocalypse/End of World", location:"everywhere", start:"2013-12-21T00:00-05:00", end:"2013-12-22T00:00-05:00"};

        logMRAIDMessage("Creating calendar object with params = " + printObject(calendarObject));

        mraid.createCalendarEvent(calendarObject);
    }

    function updateUseCustomClose(checked)
    {
        logMRAIDMessage("Calling useCustomClose with = " + checked);

        mraid.useCustomClose(checked);
    }

    window.addEventListener("orientationchange", function ()
    {
        handleOrientationChange();
    });

    function logMRAIDMessage(message)
    {
        // Replace this method with whatever logging best works for your test environment
        console.log("MRAID: " + message);
    }

    function handleOrientationChange()
    {
        updateOrientationDiagnostic();

        updateDefaultPositionDiagnostic();
        updateCurrentPositionDiagnostic();
        updateMaxSizeDiagnostic();
        updateScreenSizeDiagnostic();

        logMRAIDMessage("Orientation change! window.orientation = " + window.orientation);
    }

    function stateChangeHandler(state)
    {
        updateStateDiagnostic(mraid.getState());

        updateDefaultPositionDiagnostic();
        updateCurrentPositionDiagnostic();
        updateMaxSizeDiagnostic();
        updateScreenSizeDiagnostic();

        logMRAIDMessage("stateChange event fired!: state = " + state);
    }

    function sizeChangeHandler(width, height)
    {
        updateDefaultPositionDiagnostic();
        updateCurrentPositionDiagnostic();
        updateMaxSizeDiagnostic();
        updateScreenSizeDiagnostic();

        logMRAIDMessage("sizeChange event fired!: width = " + width + ", height = " + height);
    }

    function viewableChangeHandler(visible)
    {
        updateViewableDiagnostic();
        logMRAIDMessage("viewableChange event fired!: visible = " + visible);
    }

    function errorHandler(message, action)
    {
        updateErrorDiagnostic(message, action);

        logMRAIDMessage("error event fired!: message = " + message + ", action = " + action);
    }

    function mraidIsReady()
    {
        mraid.removeEventListener("ready", mraidIsReady);

        showMyAd();
    }

    function showMyAd()
    {
        updateAllDiagnostics();

        // Add all listeners
        mraid.addEventListener("stateChange", stateChangeHandler);
        mraid.addEventListener("sizeChange", sizeChangeHandler);
        mraid.addEventListener("viewableChange", viewableChangeHandler);
        mraid.addEventListener("error", errorHandler);

        logMRAIDMessage("MRAID version = " + mraid.getVersion());

        // First call to getExpandProperties should return screen width/height.
        var expandProperties = mraid.getExpandProperties();
        if ( (window.orientation == 0) || (window.orientation == 180) )
        {
            screenWidth = expandProperties.width;
            screenHeight = expandProperties.height;
        }
        else
        {
            screenWidth = expandProperties.height;
            screenHeight = expandProperties.width;
        }

        logMRAIDMessage("width = " + screenWidth + ", height = " + screenHeight);

        // Setup resize width/height based on max resize size available on this device
        var resizeMaxSize = mraid.getMaxSize();
        document.getElementById("ResizeWidth").value = resizeMaxSize.width;
        document.getElementById("ResizeHeight").value = resizeMaxSize.height;
    }

    function setupViewport(width)
    {
        var element = document.querySelector("meta[name=viewport]");
        if (!element)
        {
            element = document.createElement("meta");
            element.name = "viewport";
            element.content = "width=" + width + ", user-scalable=no";
            document.getElementsByTagName('head')[0].appendChild(element);
        }
        else
        {
            element.content = "width=" + width + ", user-scalable=no";
        }
    }
    setupViewport(320);

    function doReadyCheck()
    {
        if (mraid.getState() == 'loading')
        {
            updateElementInnerHTML("State", 'loading');

            mraid.addEventListener("ready", mraidIsReady);
        }
        else
        {
            showMyAd();
        }
    }

    doReadyCheck();
</script><!--
     FILE ARCHIVED ON 10:03:27 Aug 24, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 11:40:59 Dec 18, 2018.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  LoadShardBlock: 46.01 (3)
  esindex: 0.01
  captures_list: 64.862
  CDXLines.iter: 13.434 (3)
  PetaboxLoader3.datanode: 75.289 (4)
  exclusion.robots: 0.337
  exclusion.robots.policy: 0.323
  RedisCDXSource: 2.007
  PetaboxLoader3.resolve: 17.275
  load_resource: 73.856
-->
